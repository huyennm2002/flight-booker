<%= form_with model: @booking, local: true do |f| %>
  <% i = 1 %>
  <%= f.fields_for :passengers do |p| %>
    <div class="field is-horizontal">
      <div class="field-label is-normal">
        <label class="label">
          <%= "Passenger #{i}" %><br/>
        </label>
      </div>
      <div class="field-body">
        <div class="field">
          <p class="control">
            <%= p.text_field :name, placeholder: "Passenger's name", required: true, class: "input" %>
          </p>
        </div>
        <div class="field">
          <p class="control">
            <%= p.email_field :email, placeholder: "name@example.com", required: true, class: "input" %>
          </p>
        </div>
      </div>
    </div>
    <% i += 1%>
  <% end %>
  
  <%= f.hidden_field :flight_id, value: params[:flight_id] %>
  <%= f.hidden_field :no_of_passengers,value: params[:no_of_passengers]%>
  <div class="field">
    <div class="control">
      <%= f.submit 'Continue with payment', class: "button is-dark is-outlined" %>
    </div>
  </div>
<% end %>